var e={144:function(e,t){var o,n;o=function(e,t){var o=5e3,n="callback";function r(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function a(e){try{delete window[e]}catch(t){window[e]=void 0}}function l(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=e,i=t.timeout||o,u=t.jsonpCallback||n,d=void 0;return new Promise((function(o,n){var s=t.jsonpCallbackFunction||r(),m=u+"_"+s;window[s]=function(e){o({ok:!0,json:function(){return Promise.resolve(e)}}),d&&clearTimeout(d),l(m),a(s)},c+=-1===c.indexOf("?")?"?":"&";var p=document.createElement("script");p.setAttribute("src",""+c+u+"="+s),t.charset&&p.setAttribute("charset",t.charset),t.nonce&&p.setAttribute("nonce",t.nonce),t.referrerPolicy&&p.setAttribute("referrerPolicy",t.referrerPolicy),p.id=m,document.getElementsByTagName("head")[0].appendChild(p),d=setTimeout((function(){n(new Error("JSONP request to "+e+" timed out")),a(s),l(m),window[s]=function(){a(s)}}),i),p.onerror=function(){n(new Error("JSONP request to "+e+" failed")),a(s),l(m),d&&clearTimeout(d)}}))}},void 0===(n=o.apply(t,[t,e]))||(e.exports=n)}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};(()=>{o.d(n,{Z:()=>r});var e=o(144),t=o.n(e);const r={onload:()=>{console.log("load tweet extract plugin"),roamAlphaAPI.ui.blockContextMenu.addCommand({label:"Extract Tweet",callback:e=>async function(e,o){var n=new RegExp(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/,"ig");let r=function(e){let t=e.match(n);return null!=t?t[t.length-1]:0}(o);t()("https://publish.twitter.com/oembed?omit_script=1&url="+r).then((function(e){return e.json()})).then((function(t){console.log("parsed json",t);let n=function(e){let t=document.createElement("div");t.innerHTML=e;let o=t.querySelector("p"),n=o.innerText||o.textContent,r=t.querySelectorAll("a");return[n,r[r.length-1].text]}(t.html),a=n[0],l=n[1],c=new Date(Date.parse(l));c=window.roamAlphaAPI.util.dateToPageTitle(dateObject),console.log(l),o=`[[>]] ${a}\n[ðŸ¦](${r}) by ${t.author_name} on [[${c}]]`,console.log(e,o),window.roamAlphaAPI.updateBlock({block:{uid:e,string:o}})})).catch((function(e){console.log("parsing failed",e),o="{{âš  PARSE ERROR âš }} "+o}))}(e["block-uid"],e["block-string"])})},onunload:()=>{console.log("unload tweet extract plugin"),roamAlphaAPI.ui.blockContextMenu.removeCommand({label:"Extract Tweet"})}}})();var r=n.Z;export{r as default};